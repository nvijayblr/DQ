(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"6S6A":function(e,n,l){"use strict";var i=l("8Y7J"),t=l("MBfO"),a=l("8P0U"),o=l("omvX"),r=l("bujt"),p=l("Fwaw"),s=l("5GAg"),u=l("Mr+X"),g=l("Gi4r"),m=l("SVse"),d=l("HsOI");class c{transform(e){return!!e&&(e.indexOf(".jpg")>0||e.indexOf(".jpeg")>0||e.indexOf(".png")>0||e.indexOf(".gif")>0||e.indexOf(".jfif")>0||e.indexOf(".webp")>0||e.indexOf(".heif")>0||e.indexOf(".tiff")>0?"images":"docs")}}var b=l("lzlj"),h=l("igqZ");l("uB+o"),l("mKmO"),l("MKys"),l("qJ50"),l.d(n,"a",(function(){return f})),l.d(n,"b",(function(){return C}));var f=i.Cb({encapsulation:2,styles:[[".image-crop-wrapper .image-crop-card{border-radius:0;font-size:10px;height:40px;padding:6px 10px 0 7px;top:2px;overflow:hidden;border:1px solid #959595!important;box-shadow:0 3px 6px #00000029}.image-crop-wrapper .img-preview{width:46px;height:46px;border:1px solid #f3f3f3;position:absolute;top:0;right:0;z-index:100}.image-crop-wrapper .img-preview .img{width:100%;height:100%;background-size:cover}.image-crop-wrapper .img-preview .mat-icon{text-align:center!important;margin-top:10px;width:100%;color:rgba(0,0,0,.62);background:#fff}.image-crop-wrapper .img-progress{position:absolute;top:0;right:0;left:0;z-index:102}.image-crop-wrapper .file-form-group{margin-bottom:20px;width:100%}.image-crop-wrapper .file-form-group .form-label{font-size:20px;font-weight:300;margin-bottom:24px;display:block}.image-crop-wrapper .file-form-group .gv-file-input{width:100%}.image-crop-wrapper .image-crop-card{position:relative}.image-crop-wrapper .upload-btn{font-size:8px;padding:0;min-width:54px;height:28px;line-height:28px;position:absolute;right:6px;top:5px;z-index:101}.image-crop-wrapper .delete-btn{position:absolute;right:36px;top:8px;z-index:100}.image-crop-wrapper .done-btn{position:absolute;right:8px;top:8px;z-index:100;background-color:rgba(0,151,13,.62)!important;color:#fff!important}.image-crop-wrapper .delete-btn,.image-crop-wrapper .done-btn{background-color:#f1f1f1;width:30px;height:30px;line-height:30px}.image-crop-wrapper .delete-btn .mat-icon,.image-crop-wrapper .done-btn .mat-icon{font-size:16px}.image-crop-wrapper .error-messages-wrapper{text-align:left;position:relative;top:-8px;font-size:11px;left:-11px}"]],data:{}});function w(e){return i.Zb(0,[(e()(),i.Eb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","img-progress mat-progress-bar"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,t.b,t.a)),i.Db(1,4374528,null,0,a.b,[i.n,i.G,[2,o.a],[2,a.a]],{mode:[0,"mode"]},null)],(function(e,n){e(n,1,0,"indeterminate")}),(function(e,n){e(n,0,0,"indeterminate"===i.Qb(n,1).mode||"query"===i.Qb(n,1).mode?null:i.Qb(n,1).value,i.Qb(n,1).mode,i.Qb(n,1)._isNoopAnimation)}))}function x(e){return i.Zb(0,[(e()(),i.Eb(0,0,null,null,4,"button",[["class","done-btn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,r.b,r.a)),i.Db(1,180224,null,0,p.b,[i.n,s.h,[2,o.a]],null,null),(e()(),i.Eb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),i.Db(3,9158656,null,0,g.b,[i.n,g.d,[8,null],[2,g.a],[2,i.o]],null,null),(e()(),i.Xb(-1,0,["done"]))],(function(e,n){e(n,3,0)}),(function(e,n){e(n,0,0,i.Qb(n,1).disabled||null,"NoopAnimations"===i.Qb(n,1)._animationMode),e(n,2,0,i.Qb(n,3).inline,"primary"!==i.Qb(n,3).color&&"accent"!==i.Qb(n,3).color&&"warn"!==i.Qb(n,3).color)}))}function v(e){return i.Zb(0,[(e()(),i.Eb(0,0,null,null,3,"div",[["class","img-preview"]],null,null,null,null,null)),(e()(),i.Eb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),i.Db(2,9158656,null,0,g.b,[i.n,g.d,[8,null],[2,g.a],[2,i.o]],null,null),(e()(),i.Xb(-1,0,["picture_as_pdf"]))],(function(e,n){e(n,2,0)}),(function(e,n){e(n,1,0,i.Qb(n,2).inline,"primary"!==i.Qb(n,2).color&&"accent"!==i.Qb(n,2).color&&"warn"!==i.Qb(n,2).color)}))}function I(e){return i.Zb(0,[(e()(),i.Eb(0,0,null,null,4,"div",[["class","img-preview"]],null,null,null,null,null)),(e()(),i.Eb(1,0,null,null,3,"div",[["class","img"]],null,null,null,null,null)),i.Ub(512,null,m.B,m.C,[i.n,i.z,i.N]),i.Db(3,278528,null,0,m.p,[m.B],{ngStyle:[0,"ngStyle"]},null),i.Sb(4,{"background-image":0})],(function(e,n){var l=n.component,i=e(n,4,0,"url("+l.appConfig.imgBaseUrl+l.imagePath+")");e(n,3,0,i)}),null)}function D(e){return i.Zb(0,[(e()(),i.Eb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),i.Db(1,16384,null,0,d.b,[],null,null),(e()(),i.Xb(2,null,[" "," "]))],null,(function(e,n){var l=n.component;e(n,0,0,i.Qb(n,1).id),e(n,2,0,l.errorMessage)}))}function C(e){return i.Zb(0,[i.Rb(0,c,[]),i.Vb(402653184,1,{fileInput:0}),(e()(),i.Eb(2,0,null,null,17,"div",[["class","image-crop-wrapper"]],null,null,null,null,null)),(e()(),i.Eb(3,0,null,null,16,"mat-card",[["class","image-crop-card border mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),i.Db(4,49152,null,0,h.a,[[2,o.a]],null,null),(e()(),i.tb(16777216,null,0,1,null,w)),i.Db(6,16384,null,0,m.m,[i.Z,i.V],{ngIf:[0,"ngIf"]},null),(e()(),i.Eb(7,0,null,0,1,"div",[["class","file-form-group"]],[[8,"hidden",0]],null,null,null,null)),(e()(),i.Eb(8,0,[[1,0],["fileInput",1]],null,0,"input",[["class","gv-file-input"],["type","file"]],[[8,"accept",0]],[[null,"change"]],(function(e,n,l){var i=!0;return"change"===n&&(i=!1!==e.component.fileChangeEvent(l)&&i),i}),null,null)),(e()(),i.tb(16777216,null,0,1,null,x)),i.Db(10,16384,null,0,m.m,[i.Z,i.V],{ngIf:[0,"ngIf"]},null),(e()(),i.tb(16777216,null,0,2,null,v)),i.Db(12,16384,null,0,m.m,[i.Z,i.V],{ngIf:[0,"ngIf"]},null),i.Tb(13,1),(e()(),i.tb(16777216,null,0,2,null,I)),i.Db(15,16384,null,0,m.m,[i.Z,i.V],{ngIf:[0,"ngIf"]},null),i.Tb(16,1),(e()(),i.Eb(17,0,null,0,2,"div",[["class","error-messages-wrapper"]],null,null,null,null,null)),(e()(),i.tb(16777216,null,null,1,null,D)),i.Db(19,16384,null,0,m.m,[i.Z,i.V],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,6,0,l.isLoading),e(n,10,0,l.isUploadDone);var t=l.imagePath&&!l.isUploadDone&&"docs"===i.Yb(n,12,0,e(n,13,0,i.Qb(n,0),l.imagePath));e(n,12,0,t);var a=l.imagePath&&!l.isUploadDone&&"images"===i.Yb(n,15,0,e(n,16,0,i.Qb(n,0),l.imagePath));e(n,15,0,a),e(n,19,0,l.errorMessage)}),(function(e,n){var l=n.component;e(n,3,0,"NoopAnimations"===i.Qb(n,4)._animationMode),e(n,7,0,l.croppedImage),e(n,8,0,l.fileTypes)}))}},"uB+o":function(e,n,l){"use strict";l.d(n,"a",(function(){return r})),l.d(n,"b",(function(){return o}));var i=l("8Y7J"),t=l("YD+O"),a=l("aR35");const o={showError:!0};class r{constructor(e,n){this.http=e,this.authGuardService=n,this.isOpenFile=!1,this.label="Select Image",this.preview="",this.aspectRatio=1.5,this.resizedWidth=0,this.resizedHeight=0,this.name="",this.imageType="",this.imagePath="",this.fileTypes="image/*",this.imageCroppedCompleted=new i.p,this.fileSelected=new i.p,this.uploadCompleted=new i.p,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={},this.selectedFile={},this.isLoading=!1,this.isUploadDone=!1,this.userId="",this.errorMessage="",this.appConfig={};const l=this.authGuardService.getLoggedInUserDetails();this.userId=l.user_id,this.appConfig=a.a}ngOnInit(){this.isOpenFile&&(console.log(this.fileInput),this.fileInput.nativeElement.click()),this.imagePath.indexOf("blank.png")>=0&&(this.imagePath="")}deleteImage(){this.croppedImage="",this.imageChangedEvent="",this.imageCroppedCompleted.emit({image:"",file:""})}fileChangeEvent(e){this.isUploadDone=!1,this.errorMessage="",e.target.files&&e.target.files.length&&(this.selectedFile=e.target.files[0],this.fileSelected.emit(this.selectedFile))}uploadImage(){const e=new FormData;e.append("file",this.selectedFile),e.append("image_type",this.imageType),this.isLoading=!0,this.isUploadDone=!1,this.http.uploadImage(this.userId,e).subscribe(e=>{this.isLoading=!1,this.isUploadDone=!0,this.uploadCompleted.emit({name:this.selectedFile.name,image_type:this.imageType,path:e.path})},e=>{this.isLoading=!1})}imageCropped(e){this.croppedImage=e.base64,this.imageCroppedCompleted.emit({image:e.base64,file:Object(t.b)(e.base64),type:"image"})}imageLoaded(){this.showCropper=!0}cropperReady(e){console.log("Cropper ready",e)}loadImageFailed(){console.log("Load failed")}}}}]);