<section class="page-body home-bodys wts">
  <div class="container">
    
    <!-- (OR_ARIRPOT === 'JFK' && DES_AIRPORT === 'ORD' OR ) -->
    
    <div class="home-wrapper">
      <div class="clearfix my-community-body">
        <div class="home-panel">
          <app-progress-bar [message]="loaderMsg" class="page" *ngIf="isLoading"></app-progress-bar>
          <div class="shrare-post">

          <!-- Source List --> 
          <div class="dashBoard flex-containers">
            <div class="dash-left">
              <div class="srcTop"><mat-icon>widgets</mat-icon> Sources</div>
              <mat-accordion>
                <mat-expansion-panel 
                  *ngFor="let item of items; let i = index;"
                  (opened)="setOpened(i)"
                  (closed)="setClosed(i)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>{{ item.header }}</mat-panel-title>                   
                  </mat-expansion-panel-header>
                  <mat-list role="list">
                    <mat-list-item role="listitem" class="activeList">
                      <mat-icon> layers</mat-icon>                     
                        Source name 1
                      </mat-list-item>
                      <mat-list-item role="listitem"> 
                        <mat-icon> layers</mat-icon>                    
                        Source name 2
                      </mat-list-item>
                      <mat-list-item role="listitem"> 
                        <mat-icon> layers</mat-icon>                    
                        Source name 3
                    </mat-list-item>
                  </mat-list>                                
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div class="dash-right">
              <h1 class="no-margin ms nTitle">Summary</h1>
              <div class="flex-containers">
              <mat-card class="border no-rounded list shrare-post mini-card minC">
                <div class="topTitle">Type</div>
                <div class="mid-cnt"> <span class="red">S</span></div>
              </mat-card>
              <mat-card class="border no-rounded list shrare-post mini-card minC">
                <div class="topTitle">ID</div>
                <div class="mid-cnt"> <span >S1</span> </div>
              </mat-card>
              <!-- <mat-card class="border no-rounded list shrare-post mini-card">
                <div class="topTitle">Source Name</div>
                <div class="mid-cnt"> <span class="min">flights_new lot of empty cells</span> </div>
              </mat-card> -->
              <mat-card class="border no-rounded list shrare-post mini-card">
                <div class="topTitle">File Name</div>
                <div class="mid-cnt"> <span class="red min">flights_new lot of empty cells.xls</span> </div>
              </mat-card>
              <mat-card class="border no-rounded list shrare-post mini-card last">
                <div class="topTitle">Referennce</div>
                <div class="mid-cnt"> <span class="min">Ref1 - airport origin reference</span> </div>
              </mat-card>
            </div>
              <h1 class="no-margin ms nTitle">Details</h1>
              <mat-card class="border no-rounded list shrare-post mct">
                <div class="subtab">
                  <div class="step-indicator">
                    <div class="step uploaded" [ngClass]="{completed: actionTabId === '1'}" (click)="showTab('1');">
                      <mat-icon class="tick">check_circle</mat-icon>
                      <span class="text">Data Source</span>                                    
                    </div>
                    <div class="step uploaded" 
                      
                      [ngClass]="{completed: actionTabId === '2'}"  
                      (click)="showTab('2');">
                      <mat-icon class="tick">check_circle</mat-icon>
                      <span class="text">Ruleset</span>
                    </div>
                    <div class="step disabled" 
                        
                        [ngClass]="{completed: actionTabId === '3'}" 
                        (click)="data.rules.length && showTab('3');">
                        <mat-icon class="tick">check_circle</mat-icon>
                        <span class="text">Data Upload</span>
                      </div>
                    <div class="step disabled" 
                     
                      [ngClass]="{completed: actionTabId === '4'}" 
                      (click)="(data.UploadsHistory.length && data.rules.length) && showTab('4');">
                      <mat-icon class="tick">check_circle</mat-icon>
                      <span class="text">View Analysis</span>
                    </div>
                    <div class="step disabled" 
                          
                          [ngClass]="{completed: actionTabId === '5'}" 
                          (click)="(data.UploadsHistory.length && data.rules.length) && showTab('5');">
                          <mat-icon class="tick">check_circle</mat-icon>
                          <span class="text">Data Cleaning</span>
                        </div>
                  </div>
                  <div class="step1" *ngIf="showFirst" style="display: block;clear: both;">
                    <div class="list flex-containers ml4">
                      <div class=" list-item-0  inlb sName">flights_new lot of empty cells</div>
                      <div class=" list-item-0  inlb">
                        <button type="button" class="button3d btnPush btnBlueGreen addico"
                        routerLink="/auth/add-source-data" matTooltip="" >
                        <mat-icon>add</mat-icon>
                        Create Source
                        </button>
                      </div>
                     
                      <div class="list-item-0 inlb" *ngIf="rights.includes('EDIT_SOURCE')">
                        <button type="button" class="button3d btnPush btnOrange addico"
                        (click)="editSourceData(data)" matTooltip="">                                           
                        <mat-icon>edit</mat-icon>  Edit Source
                        </button>
                      </div>
                     
                      <div class=" list-item-0  inlb">
                        <button type="button" class="button3d btnPush btnPurple addico w-t"
                       matTooltip="">
                       <mat-icon>sync_disabled</mat-icon>
                          Disable
                        </button>
                      </div>
                      </div>
                  </div>
                </div>
              </mat-card>
              
              <h1 class="no-margin ms nTitle">Analysis</h1>
              <mat-card class="border no-rounded list shrare-post mct">
                <div class="viewTable">Views: <img src="assets/images/table.svg" class="tabV" (click)="changeView('table')" /> <span class="divider"></span> <img src="assets/images/chart.svg" class="chartV" (click)="changeView('chart')" /></div>


                <!-- Date Carousel -->
              <div class="analysis-infoDashboard">
                <div class="category-list-wrapper clearfix">
                  <owl-carousel-o class="selected" [options]="customOptions">
                    <ng-template carouselSlide>
                      <div class="category-item selected">
                        May, 21 2021
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>
                    
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Jun, 21 2021
                       </div>
                    </ng-template>
                  </owl-carousel-o>
               </div>
              </div>


                <div class="tableView" *ngIf="showtable">
                  <mat-form-field>
                    <mat-label>Filter</mat-label>
                    <input matInput (keyup)="applyFilter($event)" placeholder="Search..." #input>
                  </mat-form-field>                
                  <div class="mat-elevation-z8">
                    <table mat-table [dataSource]="dataSource" matSort>
                  
                      <!-- ID Column -->
                      <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                      </ng-container>
                  
                      <!-- Progress Column -->
                      <ng-container matColumnDef="progress">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Uniqueness </th>
                        <td mat-cell *matCellDef="let row"> {{row.progress}}% </td>
                      </ng-container>
                  
                      <!-- Name Column -->
                      <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Completness </th>
                        <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                      </ng-container>
                  
                      <!-- Fruit Column -->
                      <ng-container matColumnDef="fruit">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Validity </th>
                        <td mat-cell *matCellDef="let row"> {{row.fruit}} </td>
                      </ng-container>
                  
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  
                      <!-- Row shown when there is no matching data. -->
                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                      </tr>
                    </table>
                  
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                  </div>
              </div>
              <div class="chartView" *ngIf="!showtable">
                  <highcharts-chart
                  [Highcharts] = "highcharts" 
                  [options] = "chartOptions" 
                  style = "width: 100%; height: 400px; display: block;">
                </highcharts-chart>
              </div>
              </mat-card>
             
              <div class="allView">
                <div class="viewProfile">
                  <div class="prevMenu" (click)="changeMenu('preview')">
                    <img src="assets/images/preview.svg" class="prev"  />
                    <span [ngClass]="{act: previewTable}">Preview</span>
                  </div> 
                  <span class="divider"></span> 
                  <div class="prevMenu" (click)="changeMenu('profile')">
                    <img src="assets/images/profile-data.svg" class="prof"  />
                    <span [ngClass]="{act: previewProfile}">Profile</span>
                  </div>
                  <span class="divider"></span> 
                  <div class="prevMenu" (click)="changeMenu('correlation')">
                    <img src="assets/images/correlation.svg" class="prof"  />
                    <span [ngClass]="{act: previewCorrelation}">Correlation</span>
                  </div>
                </div>
            </div>
            <mat-card class="border no-rounded list shrare-post mct">
              
              <div class="previewView valign" *ngIf="previewTable">
                <ag-grid-angular
                    style="width: 100%; height: 200px;"
                    class="ag-theme-alpine"
                    [rowData]="rowData"
                    [columnDefs]="columnDefs"
                >
                </ag-grid-angular>
            </div>

            <div class="profileView valign" *ngIf="previewProfile">
              <div class="analysis-infoDashboard">
                <div class="category-list-wrapper clearfix">
                  <owl-carousel-o class="selected" [options]="profileOptions">
                    <ng-template carouselSlide>
                      <div class="category-item selected">
                        Year
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Month
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Tail Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Flight Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Airline
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Year
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Month
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Tail Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Flight Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Airline
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Year
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Month
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Tail Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Flight Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Airline
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Year
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Month
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Tail Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Flight Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Airline
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Year
                      </div>
                    </ng-template> 
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Month
                       </div>
                    </ng-template>
                    <ng-template carouselSlide>
                      <div class="category-item">
                        Tail Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Flight Number
                       </div>
                    </ng-template>

                    <ng-template carouselSlide>
                      <div class="category-item">
                        Airline
                       </div>
                    </ng-template>

                  </owl-carousel-o> 
                  
                  
               </div>
              </div>
              <div class="flex-containers">
              <mat-card class="border no-rounded list shrare-post mct" style="width: 50%; margin-right: 30px;">
                  <highcharts-chart
                  [Highcharts] = "highcharts2" 
                  [options] = "chartOptions2" 
                  style = "width: 100%; height: 400px; display: block;">
                  </highcharts-chart>
              </mat-card>
              <mat-card class="border no-rounded list shrare-post mct" style="width: 50%;">
                <highcharts-chart
                  [Highcharts] = "highcharts3" 
                  [options] = "chartOptions3" 
                  style = "width: 100%; height: 400px; display: block;">
                  </highcharts-chart>
              </mat-card>
            </div>

            </div>

            <div class="correlationView valign" *ngIf="previewCorrelation">
              <mat-card class="border no-rounded list shrare-post mct">
                <highcharts-chart
                  [Highcharts] = "highcharts4" 
                  [options] = "chartOptions4" 
                  style = "width: 100%; height: 400px; display: block;">
                  </highcharts-chart>
              </mat-card>
            </div>


            </mat-card>
              
            </div>
          </div>

          </div>

        </div>
      </div> 
    </div>

  </div>
</section>
