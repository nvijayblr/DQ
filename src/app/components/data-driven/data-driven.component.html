<div class="layer" fxLayout="column">
    <div class="topBar" fxLayout="row">
        <div class="logo">
            <span class="AI">AI</span>
            <span>DataDriven</span>
            <button mat-icon-button>
                <mat-icon>menu</mat-icon>
            </button>
        </div>
    </div>
    <div fxLayout="row" fxFlex>
        <div class="sideBar" fxLayout="column">
            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="menuTree">
                <mat-tree-node *matTreeNodeDef="let node"
                    [class.selected]="node.id && node.id === selectedSource.id" [class.sourceNode]="node.id"
                    (click)="node.id && loadSourceProfile(node)">
                    <mat-icon *ngIf="node.icon" fontSet="fa" [fontIcon]="node.icon"></mat-icon>
                    <span>{{node.name}}</span>
                    <mat-icon *ngIf="node.id" class="rightAlign">edit</mat-icon>
                    <mat-icon *ngIf="node.id">delete</mat-icon>
                </mat-tree-node>
                <mat-nested-tree-node *matTreeNodeDef="let node;when: hasChild"
                    [ngClass]="{'expanded':treeControl.isExpanded(node)}">
                    <div class="mat-tree-node" matTreeNodeToggle>
                        <mat-icon *ngIf="node.icon" fontSet="fa" [fontIcon]="node.icon"></mat-icon>
                        <span>{{node.name}}</span>
                        <mat-icon class="rightAlign">
                            {{treeControl.isExpanded(node) ? 'arrow_drop_down' : 'arrow_right'}}
                        </mat-icon>
                    </div>
                    <div class="childGroup" [class.invisible]="!treeControl.isExpanded(node)" role="group">
                        <ng-container matTreeNodeOutlet></ng-container>
                    </div>
                </mat-nested-tree-node>
            </mat-tree>
        </div>
        <router-outlet></router-outlet>
    </div>
</div>